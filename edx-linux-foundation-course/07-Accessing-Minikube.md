# Accessing Minikube


## kubectl config file

The config file is usually located inside the following server
```
sudo cat ~/.kube/config
```

To view the config using the kubectl command:
```
> kubectl config view
```

This will display the current config of the cluster. The details are not limited to:
- API Server Endpoint
- Client Authentication Key
- Client Authentication Certificatet
- Certificate Authority Data

## Kubernetes Dashboard

> Note: That this command is applicable only for minikube. I will add the method for self-managed, K8s cluster

To display the dashboard, invoke the following command:
```
> minikube dashboard
```

To make the dashboard available in the default port *_8001_*, perform the following command:
```
> kubectl proxy
```

This command also enables us to send request to the API server via the **localhost** with port **8001**

Command example:
```
> curl http://localhost:8001/
```

## Accessing the API server with authentication

There are two ways to access the API server with authentication:
1. Using the Bearer Token
- the bearer token is generated by the authentication server (API server in the master node). It can be generated using the *_ kubectl describe secret _* command
```
> TOKEN=$(kubectl describe secret -n kube-system $(kubectl get secrets -n kube-system | grep default | cut -f1 -d ' ') | grep -E '^token' | cut -f2 -d':' | tr -d '\t' | tr -d " ")
```

- In order to connect to the API server, this command should be invoked:
```
> curl $APISERVER --header "Authorization: Bearer $TOKEN" --insecure
{
 "paths": [
   "/api",
   "/api/v1",
   "/apis",
   "/apis/apps",
   ......
   ......
   "/logs",
   "/metrics",
   "/openapi/v2",
   "/version"
 ]
}
```
2. Using access token in the kubectl config
- Use the command above to get the configuration of the cluster
- Use the following command to connect to the API server
```
> curl $APISERVER --cert encoded-cert --key encoded-key --cacert encoded-ca
```

